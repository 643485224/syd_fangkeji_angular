<ion-header>
  <ion-navbar hideBackButton="true">
    <ion-title>现场登记 - 登记并打印凭条</ion-title>
  </ion-navbar>
</ion-header>


<ion-content no-scroll>
  <img class="bg-picture" [src]="globalSvr.background | safe: 'url'">

  <div style="height: 100%; flex-direction: column; color: #fff;" xy-center>
    <div [ngSwitch]="step">
      <div *ngSwitchCase="1" xy-center flex-column>
        <div class="lds-css ng-scope">
          <div style="width:100%;height:100%" class="lds-double-ring">
            <div></div>
            <div></div>
          </div>
        </div>

        <ion-icon name="wait" color="danger">&nbsp;正在处理中 。。。</ion-icon>
      </div>

      <div *ngSwitchCase="2" xy-center flex-column>
        <img style="display: block; object-fit: contain;" src="assets/imgs/print.gif">
        <ion-icon name="wait" color="danger">&nbsp;正在打印访客凭条 。。。</ion-icon>
      </div>

      <div *ngSwitchCase="3" xy-center flex-column blur-msg-box>
        <img style="display: block; object-fit: contain;" width="180" height="180" src="assets/imgs/success.png">
        <p style="margin: 1rem 0; color: #338; font-weight: bold;">访客登记成功！</p>

        <button ion-button icon-start class="mybtn mybtn-rounded mybtn-raised mybtn-action" lg2-btn color="secondary"
          (click)="onGoBack()">
          <ion-icon name="shouzhi1"></ion-icon>
          &nbsp;返回首页 ({{ count }})
        </button>
      </div>

      <div *ngSwitchCase="10" xy-center flex-column blur-msg-box>
        <img style="display: block; object-fit: contain;" width="180" height="180" src="assets/imgs/error.png">
        <p style="margin: 1rem 0; color: #D44; font-weight: bold;">{{ errorText }}</p>
        <button ion-button icon-start class="mybtn mybtn-rounded mybtn-raised mybtn-action" lg2-btn color="secondary"
          (click)="onGoBack()">
          <ion-icon name="shouzhi1"></ion-icon>
          &nbsp;返回首页
        </button>
      </div>

    </div>
  </div>
</ion-content>
